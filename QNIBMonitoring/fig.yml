consul:
  hostname: consul
  image: qnib/consul
  ports:
   - "8500:8500"
  environment:
  - DC_NAME=dc1
  - ENABLE_SYSLOG=true
  dns: 127.0.0.1
  privileged: true

grafana:
  hostname: grafana
  image: qnib/grafana
  ports:
   - "80:80"
  environment:
  - DC_NAME=dc1
  - ENABLE_SYSLOG=true
  dns: 127.0.0.1
  links:
  - consul:consul
  privileged: true

elk:
  image: qnib/elk
  hostname: elk
  ports:
   - "9200:9200"
   - "8080:80"
   - "5500:5500"
   - "5514:5514/tcp"
  environment:
  - DC_NAME=dc1
  - ENABLE_SYSLOG=true
  dns: 127.0.0.1
  links:
  - consul:consul
  volumes:
   - ./elasticsearch:/var/lib/elasticsearch
   - ./logstash.d:/etc/logstash/conf.d/
  privileged: true

influxdb:
  hostname: influxdb
  image: qnib/influxdb
  ports:
   - "8083:8083"
   - "8086:8086"
   - "2003:2003"
  dns: 127.0.0.1
  environment:
  - DC_NAME=dc1
  - ENABLE_SYSLOG=true
  links:
  - consul:consul
  volumes:
   # Boot2docker shares via nfs, which seems not to work with influxdb
   #- ./influxdb/:/opt/influxdb/shared/
   - /opt/influxdb/shared/
  privileged: true
